<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link rel="icon" href="logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Acme&family=Oxanium:wght@200..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Expense Tracker ðŸ’°</h1>
    <main class="container">
        <div class="item">
            <h3>Enter Item Name</h3>
            <input type="text" id="itemInput" class="item" placeholder="Enter Item">
        </div>
        <div class="expense">
            <h3>Enter Price</h3>
            <input type="text" id="expenseInput" class="expense" placeholder="Enter amount">
        </div>
        <div class="bttn">
            <button type="button" class="btn btn-primary" id="itembtn">Add item</button>
            <button type="button" class="btn btn-primary" id="clearbtn">Clear all</button>
        </div>
        <div class="total">
            <h3><u>Total Expenses:</u><span id="totalexpense">0</span></h3>
            <div class="final">
                <ul id="expenseList"></ul>
                
            </div>
            
        </div>
    </main>

    <script>
        let totalExpense = 0;
        const itemInput = document.getElementById('itemInput');
        const expenseInput = document.getElementById('expenseInput');
        const addItemBtn = document.getElementById('itembtn');
        const clearAllBtn = document.getElementById('clearbtn');
        const totalExpenseSpan = document.getElementById('totalexpense');
        const expenseList = document.getElementById('expenseList');

        addItemBtn.addEventListener('click', addItem);
        clearAllBtn.addEventListener('click', clearAll);

        
        window.addEventListener('load', loadData);

        function addItem() {
            const itemName = itemInput.value.trim();
            const expenseAmount = parseFloat(expenseInput.value);

            if (itemName && !isNaN(expenseAmount)) {
                const listItem = document.createElement('li');
                listItem.textContent = `${itemName}: â‚¹${expenseAmount.toFixed(2)}`;
                expenseList.appendChild(listItem);

                totalExpense += expenseAmount;
                totalExpenseSpan.textContent = totalExpense.toFixed(2);

                saveData();

                itemInput.value = '';
                expenseInput.value = '';
            } else {
                alert('Please enter a valid item name and expense amount.');
            }
        }

        function clearAll() {
            totalExpense = 0;
            totalExpenseSpan.textContent = '0';
            expenseList.innerHTML = '';
            localStorage.removeItem('expenses');
        }

        function saveData() {
            const expenseData = {
                total: totalExpense,
                items: Array.from(expenseList.children).map(item => item.textContent)
            };
            localStorage.setItem('expenses', JSON.stringify(expenseData));
        }

        function loadData() {
            const expenseData = JSON.parse(localStorage.getItem('expenses'));
            if (expenseData) {
                totalExpense = expenseData.total;
                totalExpenseSpan.textContent = totalExpense.toFixed(2);
                expenseData.items.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.textContent = item;
                    expenseList.appendChild(listItem);
                });
            }
        }
    </script>
    <script src="app.js"></script>
</body>
</html>